'use strict';function attachSwipeEvent(){var _ref=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_ref$element=_ref.element,a=void 0===_ref$element?void 0:_ref$element,_ref$threshold=_ref.threshold,b=void 0===_ref$threshold?85:_ref$threshold,_ref$restraint=_ref.restraint,c=void 0===_ref$restraint?75:_ref$restraint,_ref$allowedTime=_ref.allowedTime,d=void 0===_ref$allowedTime?300:_ref$allowedTime,_ref$itemSelector=_ref.itemSelector,f=void 0===_ref$itemSelector?'.scroll':_ref$itemSelector,_ref$currentSelector=_ref.currentSelector,g=void 0===_ref$currentSelector?'.current':_ref$currentSelector,_ref$activeSelector=_ref.activeSelector,h=void 0===_ref$activeSelector?'.active':_ref$activeSelector,_ref$closeButtonSelec=_ref.closeButtonSelector,i=void 0===_ref$closeButtonSelec?'.close-active-post':_ref$closeButtonSelec;if('string'==typeof a&&(a=document.querySelector(a)),!(a instanceof HTMLElement))throw new Error('The touchable element is invalid.');var j=!1,k=h.substr(1),m=!1,n={direction:void 0,duration:0,distance:{x:0,y:0},start:{x:0,y:0,time:void 0,touch:void 0},end:{x:0,y:0,time:void 0,touch:void 0},threshold:b,restraint:c,allowedTime:d};Object.defineProperty(n,'threshold',{configurable:!1,writable:!1}),Object.defineProperty(n,'restraint',{configurable:!1,writable:!1}),Object.defineProperty(n,'allowedTime',{configurable:!1,writable:!1});var o=JSON.parse(JSON.stringify(n));a.addEventListener('touchstart',function(p){a.querySelector(f+h)||(p.preventDefault(),m=!1,!j&&(console.log('swiping'),n=o,n.start.touch=p.changedTouches[0],n.start.x=n.start.touch.pageX,n.start.y=n.start.touch.pageY,n.distance.x=0,n.distance.y=0,n.start.time=new Date,j=!0))}),a.addEventListener('touchmove',function(p){a.querySelector(f+h)||(p.preventDefault(),!j&&(n.direction=null))}),a.addEventListener('touchend',function(p){if(!a.querySelector(f+h)){if(p.preventDefault(),j?(n.end.touch=p.changedTouches[0],n.end.x=n.end.touch.pageX,n.end.y=n.end.touch.pageY,n.end.time=new Date,n.duration=n.end.time.getTime()-n.start.time.getTime(),n.distance.x=n.end.x-n.start.x,n.distance.y=n.end.y-n.start.y,n.duration<=n.allowedTime&&(Math.abs(n.distance.x)>=n.threshold&&Math.abs(n.distance.y)<=n.restraint?n.direction=0>n.distance.x?'left':'right':Math.abs(n.distance.y)>=n.threshold&&Math.abs(n.distance.x)<=n.restraint&&(n.direction=0>n.distance.y?'up':'down'),n.direction&&null!==n.direction&&0!==n.distance.x&&0!==n.distance.y?a.dispatchEvent(new CustomEvent('swipe',{detail:n})):m=!0),j=!1):m=!0,m){var q=a.querySelector(f+g);q.classList.contains(k)?q.querySelector(i).click():q.click(),m=!1}n=o}})}
