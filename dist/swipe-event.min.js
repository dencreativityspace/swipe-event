"use strict";function attachSwipeEvent(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.threshold,i=void 0===n?85:n,o=e.allowedTime,a=void 0===o?300:o,r=e.itemSelector,d=e.activeSelector;if("string"==typeof t&&(t=document.querySelector(t)),!(t instanceof HTMLElement))throw new Error("The touchable element is invalid.");if(!r)throw new Error("An item selector must be provided. Items must be child of "+t+".");if(!d)throw new Error("An active selector must be provided. It must be applicable to items.");var c=!1,s=!1,u={direction:void 0,duration:0,distance:{x:0,y:0},start:{x:0,y:0,time:void 0,touch:void 0},end:{x:0,y:0,time:void 0,touch:void 0},threshold:i,allowedTime:a};Object.defineProperty(u,"threshold",{configurable:!1,writable:!1}),Object.defineProperty(u,"allowedTime",{configurable:!1,writable:!1});var l=JSON.parse(JSON.stringify(u));return t.addEventListener("touchstart",function(e){t.querySelector(r+d)||(e.preventDefault(),s=!1,c||((l=u).start.touch=e.changedTouches[0],l.start.x=l.start.touch.pageX,l.start.y=l.start.touch.pageY,l.distance.x=0,l.distance.y=0,l.start.time=new Date,c=!0))},{passive:!1}),t.addEventListener("touchmove",function(e){t.querySelector(r+d)||(e.preventDefault(),c||(l.direction=null))},{passive:!1}),t.addEventListener("touchabort",function(e){t.querySelector(r+d)||(e.preventDefault(),c=!1,l.direction=null)},{passive:!1}),t.addEventListener("touchend",function(e){if(!t.querySelector(r+d)){if(e.preventDefault(),c){if(l.end.touch=e.changedTouches[0],l.end.x=l.end.touch.pageX,l.end.y=l.end.touch.pageY,l.end.time=new Date,l.duration=l.end.time.getTime()-l.start.time.getTime(),l.distance.x=l.end.x-l.start.x,l.distance.y=l.end.y-l.start.y,l.duration<=l.allowedTime)if(Math.sqrt(Math.pow(l.distance.x,2)+Math.pow(l.distance.y,2))>=l.threshold)if(Math.abs(l.distance.x)>=Math.abs(l.distance.y)&&(l.direction=l.distance.x<0?"left":"right"),Math.abs(l.distance.y)>=Math.abs(l.distance.x)&&(l.direction=l.distance.y<0?"up":"down"),l.direction&&null!==l.direction&&0!==l.distance.x&&0!==l.distance.y){var n=null;"function"!=typeof window.CustomEvent?(n=document.createEvent("swipe")).initCustomEvent("swipe",!1,!1,l):n=new CustomEvent("swipe",{detail:l}),t.dispatchEvent(n)}else s=!0;else s=!0;c=!1}else s=!0;if(s){var i=document.elementFromPoint(l.end.touch.pageX,l.end.touch.pageY);if(null!==i){var o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,null,l.end.touch.pageX,l.end.touch.pageY,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(o),i.focus()}s=!1}l=u}},{passive:!1}),!0}
//# sourceMappingURL=swipe-event.js.map
