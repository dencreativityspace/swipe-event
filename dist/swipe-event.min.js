"use strict";function SwipeEvent(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,n=e.threshold,i=void 0===n?85:n,o=e.allowedTime,a=void 0===o?300:o,s=e.itemSelector,r=e.activeSelector;if("string"==typeof t&&(t=document.querySelector(t)),!(t instanceof HTMLElement))throw new Error("The touchable element is invalid.");if(!s)throw new Error("An item selector must be provided. Items must be child of "+t+".");if(!r)throw new Error("An active selector must be provided. It must be applicable to items.");var c=!1,d=!1,u={direction:void 0,duration:0,distance:{x:0,y:0},start:{x:0,y:0,time:void 0,touch:void 0},end:{x:0,y:0,time:void 0,touch:void 0}},v=JSON.parse(JSON.stringify(u)),h=function start(e){t.querySelector(s+r)||(e.preventDefault(),d=!1,c||((v=u).start.touch=e.changedTouches[0],v.start.x=v.start.touch.pageX,v.start.y=v.start.touch.pageY,v.distance.x=0,v.distance.y=0,v.start.time=new Date,c=!0))},l=function move(e){t.querySelector(s+r)||(e.preventDefault(),c||(v.direction=null))},m=function abort(e){t.querySelector(s+r)||(e.preventDefault(),c=!1,v=u)},p=function end(e){if(!t.querySelector(s+r)){if(e.preventDefault(),c){if(v.end.touch=e.changedTouches[0],v.end.x=v.end.touch.pageX,v.end.y=v.end.touch.pageY,v.end.time=new Date,v.duration=v.end.time.getTime()-v.start.time.getTime(),v.distance.x=v.end.x-v.start.x,v.distance.y=v.end.y-v.start.y,v.duration<=a)if(Math.sqrt(Math.pow(v.distance.x,2)+Math.pow(v.distance.y,2))>=i)if(Math.abs(v.distance.x)>=Math.abs(v.distance.y)&&(v.direction=v.distance.x<0?"left":"right"),Math.abs(v.distance.y)>=Math.abs(v.distance.x)&&(v.direction=v.distance.y<0?"up":"down"),v.direction&&null!==v.direction&&0!==v.distance.x&&0!==v.distance.y){var n=null;"function"!=typeof window.CustomEvent?(n=document.createEvent("swipe")).initCustomEvent("swipe",!1,!1,v):n=new CustomEvent("swipe",{detail:v}),t.dispatchEvent(n)}else d=!0;else d=!0;c=!1}else d=!0;if(d){var o=document.elementFromPoint(v.end.touch.pageX,v.end.touch.pageY);if(null!==o){var h=document.createEvent("MouseEvent");h.initMouseEvent("click",!0,!0,window,null,v.end.touch.pageX,v.end.touch.pageY,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(h),o.focus()}d=!1}v=u}};this.attach=function(){t.addEventListener("touchstart",h,{passive:!1}),t.addEventListener("touchmove",l,{passive:!1}),t.addEventListener("touchabort",m,{passive:!1}),t.addEventListener("touchend",p,{passive:!1})},this.detach=function(){t.removeEventListener("touchstart",h,{passive:!1}),t.removeEventListener("touchmove",l,{passive:!1}),t.removeEventListener("touchabort",m,{passive:!1}),t.removeEventListener("touchend",p,{passive:!1})}}
//# sourceMappingURL=swipe-event.js.map
